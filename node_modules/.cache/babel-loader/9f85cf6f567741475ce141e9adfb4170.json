{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chenb\\\\Downloads\\\\react\\\\src\\\\components\\\\Watch\\\\Sheet\\\\EditRate\\\\EditRate.js\",\n    _s = $RefreshSig$();\n\nimport { Edit, Check } from \"react-feather\";\nimport { useState, useEffect } from \"react\";\nimport ReactStars from \"react-rating-stars-component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App(props) {\n  let index = -1;\n  let listSubject = props.bikoretKind.map(subject => /*#__PURE__*/_jsxDEV(Subject, {\n    index: index++,\n    rows: props.rows,\n    bikoretKind: props.bikoretKind,\n    subject: subject\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 5\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: main,\n    children: [\"edit\", listSubject]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 5\n  }, this);\n}\n_c = App;\nconst main = {\n  width: \"80%\",\n  minHeight: \"100vh\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  justifyContent: \"flex-start\",\n  alignItems: \"center\",\n  boxShadow: \"1px 1px 2px 0px rgba(0, 0, 0, 0.25)\",\n  overflow: \"visible\",\n  borderRadius: 17\n};\nconst subjectStyle = {\n  flexShrink: 0,\n  width: \"100%\",\n  height: 108,\n  display: \"flex\",\n  flexDirection: \"row\",\n  justifyContent: \"space-evenly\",\n  alignItems: \"center\",\n  overflow: \"visible\"\n};\n\nfunction Subject(props) {\n  _s();\n\n  //\n  const [editMode, setEditMode] = useState(false);\n  const [currentUpdate, setCurrentUpdate] = useState(getFirstRate()); // updateRate(props.bikoretKind, props.subject);\n  // useEffect(()=>{\n  //   let value=getFirstRate()\n  //   console.log(value)\n  //   console.log(props.index)\n  //    },[])\n\n  function getFirstRate() {\n    let amount = 0;\n\n    for (let index = 0; index <= props.index; index++) {\n      amount = amount + props.bikoretKind[index].list.length;\n    }\n\n    let value = props.rows[amount]._rawData[2];\n    let bikoretKind = props.bikoretKind;\n    let subjectToFound = props.subjectToFound;\n    let i = 0;\n    var found = {\n      start: i,\n      length: bikoretKind[0].list.length\n    };\n    bikoretKind.forEach(subject => {\n      if (subject === subjectToFound) {\n        found = {\n          start: i,\n          length: subject.list.length\n        };\n      }\n\n      i = i + subject.list.length - 1;\n      i++;\n    });\n    console.log(parseInt(value));\n    return parseInt(value); // return props.rows[found.start]._rawData[2];\n  }\n\n  function updateRate(bikoretKind, subjectToFound) {\n    console.log(\"found\");\n    let i = 0;\n    let found;\n    bikoretKind.forEach(subject => {\n      if (subject === subjectToFound) {\n        found = {\n          start: i,\n          length: subject.list.length\n        };\n      }\n\n      i = i + subject.list.length - 1;\n      i++;\n    });\n    console.log(currentUpdate);\n    console.log(found);\n\n    for (let i = 0; i < found.length; i++) {\n      props.rows[found.start + i]._rawData[2] = currentUpdate;\n      props.rows[found.start + i].save().then(res => {\n        console.log(props.rows[found.start + i]._rawData.rate);\n      }).catch(error => {\n        console.error(\"onRejected function called: \" + error);\n      });\n    } // props.rows[start].save().then(() => {\n    // alert(\"בוצע \");\n    //    function update() {\n    //   props.row.rate = props.values.rate; // update a value\n    //   props.row.found = props.values.found; // update a value\n    //   props.row.details = props.values.details; // update a value\n    //   props.row.save().then(() => {\n    //     alert(\"בוצע \");\n    //   });\n    // }\n\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: subjectStyle,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        visibility: editMode ? \"visible\" : \"hidden\"\n      },\n      children: [\" \", /*#__PURE__*/_jsxDEV(Check, {\n        onClick: () => {\n          updateRate(props.bikoretKind, props.subject);\n          setEditMode(false);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReactStars, {\n        value: currentUpdate,\n        count: 6 // onChange={\n        //   (e) => {\n        //     ratingChanged(e, props.quatsion.index);\n        //   }\n        // ratingChanged,\n        // setRateById(rate, props.id)\n        // }\n        ,\n        onChange: e => {\n          setCurrentUpdate(e);\n        },\n        size: 24,\n        activeColor: \"#ffd700\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        visibility: editMode ? \"hidden\" : \"visible\"\n      },\n      children: [\" \", /*#__PURE__*/_jsxDEV(Edit, {\n        onClick: () => setEditMode(true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        style: {\n          visibility: editMode ? \"hidden\" : \"visible\"\n        },\n        children: props.subject.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Subject, \"PTKsxI6d1iSRkHe6lrNwtxurqWY=\");\n\n_c2 = Subject;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"Subject\");","map":{"version":3,"sources":["C:/Users/chenb/Downloads/react/src/components/Watch/Sheet/EditRate/EditRate.js"],"names":["Edit","Check","useState","useEffect","ReactStars","App","props","index","listSubject","bikoretKind","map","subject","rows","main","width","minHeight","display","flexDirection","justifyContent","alignItems","boxShadow","overflow","borderRadius","subjectStyle","flexShrink","height","Subject","editMode","setEditMode","currentUpdate","setCurrentUpdate","getFirstRate","amount","list","length","value","_rawData","subjectToFound","i","found","start","forEach","console","log","parseInt","updateRate","save","then","res","rate","catch","error","visibility","e","name"],"mappings":"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","sourcesContent":["import { Edit, Check } from \"react-feather\";\r\nimport { useState, useEffect } from \"react\";\r\nimport ReactStars from \"react-rating-stars-component\";\r\n\r\nexport default function App(props) {\r\n  let index = -1;\r\n  let listSubject = props.bikoretKind.map((subject) => (\r\n    <Subject\r\n      index={index++}\r\n      rows={props.rows}\r\n      bikoretKind={props.bikoretKind}\r\n      subject={subject}\r\n    />\r\n  ));\r\n  return (\r\n    <div style={main}>\r\n      edit\r\n      {listSubject}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst main = {\r\n  width: \"80%\",\r\n  minHeight: \"100vh\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  justifyContent: \"flex-start\",\r\n  alignItems: \"center\",\r\n  boxShadow: \"1px 1px 2px 0px rgba(0, 0, 0, 0.25)\",\r\n  overflow: \"visible\",\r\n\r\n  borderRadius: 17\r\n};\r\n\r\nconst subjectStyle = {\r\n  flexShrink: 0,\r\n  width: \"100%\",\r\n  height: 108,\r\n  display: \"flex\",\r\n  flexDirection: \"row\",\r\n  justifyContent: \"space-evenly\",\r\n  alignItems: \"center\",\r\n  overflow: \"visible\"\r\n};\r\nfunction Subject(props) {\r\n  //\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [currentUpdate, setCurrentUpdate] = useState(getFirstRate());\r\n  // updateRate(props.bikoretKind, props.subject);\r\n  // useEffect(()=>{\r\n  //   let value=getFirstRate()\r\n  //   console.log(value)\r\n  //   console.log(props.index)\r\n  //    },[])\r\n  function getFirstRate() {\r\n    let amount = 0;\r\n    for (let index = 0; index <= props.index; index++) {\r\n      amount = amount + props.bikoretKind[index].list.length;\r\n    }\r\n    let value = props.rows[amount]._rawData[2];\r\n\r\n    let bikoretKind = props.bikoretKind;\r\n    let subjectToFound = props.subjectToFound;\r\n    let i = 0;\r\n    var found = {\r\n      start: i,\r\n      length: bikoretKind[0].list.length\r\n    };\r\n    bikoretKind.forEach((subject) => {\r\n      if (subject === subjectToFound) {\r\n        found = {\r\n          start: i,\r\n          length: subject.list.length\r\n        };\r\n      }\r\n      i = i + subject.list.length - 1;\r\n      i++;\r\n    });\r\n    console.log(parseInt(value));\r\n    return parseInt(value);\r\n    // return props.rows[found.start]._rawData[2];\r\n  }\r\n\r\n  function updateRate(bikoretKind, subjectToFound) {\r\n    console.log(\"found\");\r\n    let i = 0;\r\n    let found;\r\n    bikoretKind.forEach((subject) => {\r\n      if (subject === subjectToFound) {\r\n        found = {\r\n          start: i,\r\n          length: subject.list.length\r\n        };\r\n      }\r\n      i = i + subject.list.length - 1;\r\n      i++;\r\n    });\r\n    console.log(currentUpdate);\r\n    console.log(found);\r\n\r\n    for (let i = 0; i < found.length; i++) {\r\n      props.rows[found.start + i]._rawData[2] = currentUpdate;\r\n      props.rows[found.start + i]\r\n        .save()\r\n        .then((res) => {\r\n          console.log(props.rows[found.start + i]._rawData.rate);\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"onRejected function called: \" + error);\r\n        });\r\n    }\r\n    // props.rows[start].save().then(() => {\r\n    // alert(\"בוצע \");\r\n\r\n    //    function update() {\r\n    //   props.row.rate = props.values.rate; // update a value\r\n    //   props.row.found = props.values.found; // update a value\r\n\r\n    //   props.row.details = props.values.details; // update a value\r\n    //   props.row.save().then(() => {\r\n    //     alert(\"בוצע \");\r\n    //   });\r\n    // }\r\n  }\r\n  return (\r\n    <div style={subjectStyle}>\r\n      <div style={{ visibility: editMode ? \"visible\" : \"hidden\" }}>\r\n        {\" \"}\r\n        <Check\r\n          onClick={() => {\r\n            updateRate(props.bikoretKind, props.subject);\r\n            setEditMode(false);\r\n          }}\r\n        />\r\n        <ReactStars\r\n          value={currentUpdate}\r\n          count={6}\r\n          // onChange={\r\n          //   (e) => {\r\n          //     ratingChanged(e, props.quatsion.index);\r\n          //   }\r\n          // ratingChanged,\r\n\r\n          // setRateById(rate, props.id)\r\n          // }\r\n\r\n          onChange={(e) => {\r\n            setCurrentUpdate(e);\r\n          }}\r\n          size={24}\r\n          activeColor=\"#ffd700\"\r\n        />\r\n      </div>\r\n      <div style={{ visibility: editMode ? \"hidden\" : \"visible\" }}>\r\n        {\" \"}\r\n        <Edit onClick={() => setEditMode(true)} />\r\n        <h5 style={{ visibility: editMode ? \"hidden\" : \"visible\" }}>\r\n          {props.subject.name}\r\n        </h5>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}