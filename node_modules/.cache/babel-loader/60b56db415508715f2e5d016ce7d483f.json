{"ast":null,"code":"import{useState,useEffect}from\"react\";import{ArrowRightCircle,X,Edit}from\"react-feather\";import{getSheets}from\"../../GoogleSheet/GoogleSheets\";import Table from\"./Table\";import EditOne from\"./EditOne\";import EditRate from\"./EditRate/EditRate\";import Tabs from\"./tabs/Main\";import Download from\"./Download\";import{sadir,tash,miloeim}from\"../../../tables/table\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const stack={width:\"100%\",height:\"85%\",display:\"flex\",flexDirection:\"column\",justifyContent:\"flex-start\",alignItems:\"center\",overflow:\"visible\"};const header={boxSizing:\"border-box\",flexShrink:0,width:\"100%\",height:\"20%\",display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\",padding:\"28px 80px 28px 80px\",boxShadow:\"4px 3px 2px 0px rgba(0, 0, 0, 0.25)\",overflow:\"visible\",borderRadius:\"0px 0px 20px 20px\"};const round={flexShrink:0,width:210,height:46,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-evenly\",alignItems:\"center\",boxShadow:\"2px 2px 3px 1px rgba(0, 0, 0, 0.25)\",overflow:\"visible\",borderRadius:31};const headerInner={flexShrink:0,width:\"100%\",height:33,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-around\",alignItems:\"center\",overflow:\"visible\"};export default function Sheet(props){const[rows,setRows]=useState(false);const[displayQuatsion,setDisplayQuatsion]=useState(false);const[sheetTitle,setSheetTitle]=useState(\"\");const[bikoretKind,setBikoretKind]=useState(\"\");const[tab,setTab]=useState(\"watch\");const[sheetId,setSheetId]=useState(\"\");useEffect(()=>{function getRows(){getSheets().then(doc=>{const sheet=doc.sheetsByIndex[props.sheetIndex];sheet.getRows().then(res=>setRows(res));setSheetTitle(sheet.title);setSheetId(sheet._rawProperties.sheetId);});}getRows();},[]);useEffect(()=>{///chack kind of bikoret to render\nlet str=sheetTitle;if(str.match(/סדיר/g)!==null){str=\"סדיר\";setBikoretKind(sadir);// let fun=  ()=>setBikoretKind(sadir)\n//  fun()\n}else if(str.match(/ת\"ש/g)!==null){str='ת\"ש';setBikoretKind(tash);}else if(str.match(/מילואים/g)!==null){str=\"מילואים\";setBikoretKind(miloeim);}});let listrows=/*#__PURE__*/_jsx(_Fragment,{});if(rows!==false){listrows=rows.map(row=>/*#__PURE__*/_jsxs(\"div\",{style:round,children:[\" \",row._rawData[2],\" + \",row._rawData[3],\" + \",row._rawData[4]]}));}const getQuatsionByIndex=()=>{let text=\"\";bikoretKind.forEach(subject=>{subject.list.forEach(quatsion=>{if(quatsion.index===displayQuatsion){text=quatsion.quatsion;console.log(text+\"/\");}});});return text;};let input=/*#__PURE__*/_jsx(_Fragment,{});let addInput=()=>{console.log(\"e\");return/*#__PURE__*/_jsx(\"input\",{});};var displayTab;return/*#__PURE__*/_jsxs(\"div\",{children:[rows!==false&&/*#__PURE__*/_jsxs(\"div\",{style:stack,children:[/*#__PURE__*/_jsx(ArrowRightCircle,{onClick:()=>props.setIsSheet(false)// color=\"rgb(255, 255, 255)\"\n}),/*#__PURE__*/_jsxs(\"div\",{style:header,children:[/*#__PURE__*/_jsx(\"h2\",{children:sheetTitle}),/*#__PURE__*/_jsx(\"div\",{style:headerInner,children:/*#__PURE__*/_jsxs(\"p\",{children:[rows[0]._rawData[2],rows[0]._rawData[2],\"-\",rows[1]._rawData[2],\"-\",rows[3]._rawData[2]]})})]}),/*#__PURE__*/_jsx(Tabs,{tab:tab,setTab:setTab}),tab,tab===\"watch\"?displayTab=/*#__PURE__*/_jsx(Table,{bikoretKind:bikoretKind,rows:rows}):/*#__PURE__*/_jsx(_Fragment,{}),tab===\"percent\"?displayTab=/*#__PURE__*/_jsx(EditRate,{bikoretKind:bikoretKind,rows:rows}):/*#__PURE__*/_jsx(_Fragment,{}),tab===\"editOne\"?displayTab=/*#__PURE__*/_jsx(EditOne,{bikoretKind:bikoretKind,rows:rows}):/*#__PURE__*/_jsx(_Fragment,{}),tab===\"download\"?displayTab=/*#__PURE__*/_jsx(Download,{sheet:sheetId}):/*#__PURE__*/_jsx(_Fragment,{})]}),rows===false&&/*#__PURE__*/_jsx(\"p\",{children:\"\\u05DE\\u05E9\\u05D9\\u05D2 \\u05DE\\u05D9\\u05D3\\u05E2\"})]});}","map":{"version":3,"sources":["C:/Users/chenb/Downloads/react/src/components/Watch/Sheet/Sheet.js"],"names":["useState","useEffect","ArrowRightCircle","X","Edit","getSheets","Table","EditOne","EditRate","Tabs","Download","sadir","tash","miloeim","stack","width","height","display","flexDirection","justifyContent","alignItems","overflow","header","boxSizing","flexShrink","padding","boxShadow","borderRadius","round","headerInner","Sheet","props","rows","setRows","displayQuatsion","setDisplayQuatsion","sheetTitle","setSheetTitle","bikoretKind","setBikoretKind","tab","setTab","sheetId","setSheetId","getRows","then","doc","sheet","sheetsByIndex","sheetIndex","res","title","_rawProperties","str","match","listrows","map","row","_rawData","getQuatsionByIndex","text","forEach","subject","list","quatsion","index","console","log","input","addInput","displayTab","setIsSheet"],"mappings":"AAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,gBAAT,CAA2BC,CAA3B,CAA8BC,IAA9B,KAA0C,eAA1C,CACA,OAASC,SAAT,KAA0B,gCAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,qBAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,aAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CAEA,OAASC,KAAT,CAAgBC,IAAhB,CAAsBC,OAAtB,KAAqC,uBAArC,C,6IAEA,KAAMC,CAAAA,KAAK,CAAG,CACZC,KAAK,CAAE,MADK,CAEZC,MAAM,CAAE,KAFI,CAGZC,OAAO,CAAE,MAHG,CAIZC,aAAa,CAAE,QAJH,CAKZC,cAAc,CAAE,YALJ,CAMZC,UAAU,CAAE,QANA,CAOZC,QAAQ,CAAE,SAPE,CAAd,CAUA,KAAMC,CAAAA,MAAM,CAAG,CACbC,SAAS,CAAE,YADE,CAEbC,UAAU,CAAE,CAFC,CAGbT,KAAK,CAAE,MAHM,CAIbC,MAAM,CAAE,KAJK,CAKbC,OAAO,CAAE,MALI,CAMbC,aAAa,CAAE,QANF,CAObC,cAAc,CAAE,QAPH,CAQbC,UAAU,CAAE,QARC,CASbK,OAAO,CAAE,qBATI,CAUbC,SAAS,CAAE,qCAVE,CAWbL,QAAQ,CAAE,SAXG,CAYbM,YAAY,CAAE,mBAZD,CAAf,CAeA,KAAMC,CAAAA,KAAK,CAAG,CACZJ,UAAU,CAAE,CADA,CAEZT,KAAK,CAAE,GAFK,CAGZC,MAAM,CAAE,EAHI,CAIZC,OAAO,CAAE,MAJG,CAKZC,aAAa,CAAE,KALH,CAMZC,cAAc,CAAE,cANJ,CAOZC,UAAU,CAAE,QAPA,CAQZM,SAAS,CAAE,qCARC,CASZL,QAAQ,CAAE,SATE,CAUZM,YAAY,CAAE,EAVF,CAAd,CAaA,KAAME,CAAAA,WAAW,CAAG,CAClBL,UAAU,CAAE,CADM,CAElBT,KAAK,CAAE,MAFW,CAGlBC,MAAM,CAAE,EAHU,CAIlBC,OAAO,CAAE,MAJS,CAKlBC,aAAa,CAAE,KALG,CAMlBC,cAAc,CAAE,cANE,CAOlBC,UAAU,CAAE,QAPM,CAQlBC,QAAQ,CAAE,SARQ,CAApB,CAWA,cAAe,SAASS,CAAAA,KAAT,CAAeC,KAAf,CAAsB,CACnC,KAAM,CAACC,IAAD,CAAOC,OAAP,EAAkBjC,QAAQ,CAAC,KAAD,CAAhC,CACA,KAAM,CAACkC,eAAD,CAAkBC,kBAAlB,EAAwCnC,QAAQ,CAAC,KAAD,CAAtD,CACA,KAAM,CAACoC,UAAD,CAAaC,aAAb,EAA8BrC,QAAQ,CAAC,EAAD,CAA5C,CACA,KAAM,CAACsC,WAAD,CAAcC,cAAd,EAAgCvC,QAAQ,CAAC,EAAD,CAA9C,CACA,KAAM,CAACwC,GAAD,CAAMC,MAAN,EAAgBzC,QAAQ,CAAC,OAAD,CAA9B,CACA,KAAM,CAAC0C,OAAD,CAAUC,UAAV,EAAwB3C,QAAQ,CAAC,EAAD,CAAtC,CAEAC,SAAS,CAAC,IAAM,CACd,QAAS2C,CAAAA,OAAT,EAAmB,CACjBvC,SAAS,GAAGwC,IAAZ,CAAkBC,GAAD,EAAS,CACxB,KAAMC,CAAAA,KAAK,CAAGD,GAAG,CAACE,aAAJ,CAAkBjB,KAAK,CAACkB,UAAxB,CAAd,CACAF,KAAK,CAACH,OAAN,GAAgBC,IAAhB,CAAsBK,GAAD,EAASjB,OAAO,CAACiB,GAAD,CAArC,EACAb,aAAa,CAACU,KAAK,CAACI,KAAP,CAAb,CACAR,UAAU,CAACI,KAAK,CAACK,cAAN,CAAqBV,OAAtB,CAAV,CACD,CALD,EAMD,CACDE,OAAO,GACR,CAVQ,CAUN,EAVM,CAAT,CAWA3C,SAAS,CAAC,IAAM,CACd;AACA,GAAIoD,CAAAA,GAAG,CAAGjB,UAAV,CACA,GAAIiB,GAAG,CAACC,KAAJ,CAAU,OAAV,IAAuB,IAA3B,CAAiC,CAC/BD,GAAG,CAAG,MAAN,CAEAd,cAAc,CAAC5B,KAAD,CAAd,CACA;AACA;AACD,CAND,IAMO,IAAI0C,GAAG,CAACC,KAAJ,CAAU,MAAV,IAAsB,IAA1B,CAAgC,CACrCD,GAAG,CAAG,KAAN,CACAd,cAAc,CAAC3B,IAAD,CAAd,CACD,CAHM,IAGA,IAAIyC,GAAG,CAACC,KAAJ,CAAU,UAAV,IAA0B,IAA9B,CAAoC,CACzCD,GAAG,CAAG,SAAN,CACAd,cAAc,CAAC1B,OAAD,CAAd,CACD,CACF,CAhBQ,CAAT,CAkBA,GAAI0C,CAAAA,QAAQ,cAAG,kBAAf,CACA,GAAIvB,IAAI,GAAK,KAAb,CAAoB,CAClBuB,QAAQ,CAAGvB,IAAI,CAACwB,GAAL,CAAUC,GAAD,eAClB,aAAK,KAAK,CAAE7B,KAAZ,WACG,GADH,CAEG6B,GAAG,CAACC,QAAJ,CAAa,CAAb,CAFH,OAEuBD,GAAG,CAACC,QAAJ,CAAa,CAAb,CAFvB,OAE2CD,GAAG,CAACC,QAAJ,CAAa,CAAb,CAF3C,GADS,CAAX,CAOD,CAED,KAAMC,CAAAA,kBAAkB,CAAG,IAAM,CAC/B,GAAIC,CAAAA,IAAI,CAAG,EAAX,CACAtB,WAAW,CAACuB,OAAZ,CAAqBC,OAAD,EAAa,CAC/BA,OAAO,CAACC,IAAR,CAAaF,OAAb,CAAsBG,QAAD,EAAc,CACjC,GAAIA,QAAQ,CAACC,KAAT,GAAmB/B,eAAvB,CAAwC,CACtC0B,IAAI,CAAGI,QAAQ,CAACA,QAAhB,CACAE,OAAO,CAACC,GAAR,CAAYP,IAAI,CAAG,GAAnB,EACD,CACF,CALD,EAMD,CAPD,EAQA,MAAOA,CAAAA,IAAP,CACD,CAXD,CAaA,GAAIQ,CAAAA,KAAK,cAAG,kBAAZ,CACA,GAAIC,CAAAA,QAAQ,CAAG,IAAM,CACnBH,OAAO,CAACC,GAAR,CAAY,GAAZ,EACA,mBAAO,gBAAP,CACD,CAHD,CAKA,GAAIG,CAAAA,UAAJ,CAEA,mBACE,uBACGtC,IAAI,GAAK,KAAT,eACC,aAAK,KAAK,CAAElB,KAAZ,wBACE,KAAC,gBAAD,EACE,OAAO,CAAE,IAAMiB,KAAK,CAACwC,UAAN,CAAiB,KAAjB,CACf;AAFF,EADF,cAKE,aAAK,KAAK,CAAEjD,MAAZ,wBACE,oBAAKc,UAAL,EADF,cAEE,YAAK,KAAK,CAAEP,WAAZ,uBACE,qBACGG,IAAI,CAAC,CAAD,CAAJ,CAAQ0B,QAAR,CAAiB,CAAjB,CADH,CAEG1B,IAAI,CAAC,CAAD,CAAJ,CAAQ0B,QAAR,CAAiB,CAAjB,CAFH,KAEyB1B,IAAI,CAAC,CAAD,CAAJ,CAAQ0B,QAAR,CAAiB,CAAjB,CAFzB,KAGG1B,IAAI,CAAC,CAAD,CAAJ,CAAQ0B,QAAR,CAAiB,CAAjB,CAHH,GADF,EAFF,GALF,cAeE,KAAC,IAAD,EAAM,GAAG,CAAElB,GAAX,CAAgB,MAAM,CAAEC,MAAxB,EAfF,CAgBGD,GAhBH,CAiBGA,GAAG,GAAK,OAAR,CACE8B,UAAU,cAAG,KAAC,KAAD,EAAO,WAAW,CAAEhC,WAApB,CAAiC,IAAI,CAAEN,IAAvC,EADf,cAGC,kBApBJ,CAsBGQ,GAAG,GAAK,SAAR,CACE8B,UAAU,cAAG,KAAC,QAAD,EAAU,WAAW,CAAEhC,WAAvB,CAAoC,IAAI,CAAEN,IAA1C,EADf,cAGC,kBAzBJ,CA2BGQ,GAAG,GAAK,SAAR,CACE8B,UAAU,cAAG,KAAC,OAAD,EAAS,WAAW,CAAEhC,WAAtB,CAAmC,IAAI,CAAEN,IAAzC,EADf,cAGC,kBA9BJ,CAkCGQ,GAAG,GAAK,UAAR,CACE8B,UAAU,cAAG,KAAC,QAAD,EAAU,KAAK,CAAE5B,OAAjB,EADf,cAGC,kBArCJ,GAFJ,CA4CGV,IAAI,GAAK,KAAT,eAAkB,wEA5CrB,GADF,CAgDD","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { ArrowRightCircle, X, Edit } from \"react-feather\";\nimport { getSheets } from \"../../GoogleSheet/GoogleSheets\";\nimport Table from \"./Table\";\nimport EditOne from \"./EditOne\";\nimport EditRate from \"./EditRate/EditRate\";\nimport Tabs from \"./tabs/Main\";\nimport Download from \"./Download\";\n\nimport { sadir, tash, miloeim } from \"../../../tables/table\";\n\nconst stack = {\n  width: \"100%\",\n  height: \"85%\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  justifyContent: \"flex-start\",\n  alignItems: \"center\",\n  overflow: \"visible\"\n};\n\nconst header = {\n  boxSizing: \"border-box\",\n  flexShrink: 0,\n  width: \"100%\",\n  height: \"20%\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  padding: \"28px 80px 28px 80px\",\n  boxShadow: \"4px 3px 2px 0px rgba(0, 0, 0, 0.25)\",\n  overflow: \"visible\",\n  borderRadius: \"0px 0px 20px 20px\"\n};\n\nconst round = {\n  flexShrink: 0,\n  width: 210,\n  height: 46,\n  display: \"flex\",\n  flexDirection: \"row\",\n  justifyContent: \"space-evenly\",\n  alignItems: \"center\",\n  boxShadow: \"2px 2px 3px 1px rgba(0, 0, 0, 0.25)\",\n  overflow: \"visible\",\n  borderRadius: 31\n};\n\nconst headerInner = {\n  flexShrink: 0,\n  width: \"100%\",\n  height: 33,\n  display: \"flex\",\n  flexDirection: \"row\",\n  justifyContent: \"space-around\",\n  alignItems: \"center\",\n  overflow: \"visible\"\n};\n\nexport default function Sheet(props) {\n  const [rows, setRows] = useState(false);\n  const [displayQuatsion, setDisplayQuatsion] = useState(false);\n  const [sheetTitle, setSheetTitle] = useState(\"\");\n  const [bikoretKind, setBikoretKind] = useState(\"\");\n  const [tab, setTab] = useState(\"watch\");\n  const [sheetId, setSheetId] = useState(\"\");\n\n  useEffect(() => {\n    function getRows() {\n      getSheets().then((doc) => {\n        const sheet = doc.sheetsByIndex[props.sheetIndex];\n        sheet.getRows().then((res) => setRows(res));\n        setSheetTitle(sheet.title);\n        setSheetId(sheet._rawProperties.sheetId);\n      });\n    }\n    getRows();\n  }, []);\n  useEffect(() => {\n    ///chack kind of bikoret to render\n    let str = sheetTitle;\n    if (str.match(/סדיר/g) !== null) {\n      str = \"סדיר\";\n\n      setBikoretKind(sadir);\n      // let fun=  ()=>setBikoretKind(sadir)\n      //  fun()\n    } else if (str.match(/ת\"ש/g) !== null) {\n      str = 'ת\"ש';\n      setBikoretKind(tash);\n    } else if (str.match(/מילואים/g) !== null) {\n      str = \"מילואים\";\n      setBikoretKind(miloeim);\n    }\n  });\n\n  let listrows = <></>;\n  if (rows !== false) {\n    listrows = rows.map((row) => (\n      <div style={round}>\n        {\" \"}\n        {row._rawData[2]} + {row._rawData[3]} + {row._rawData[4]}\n        {/* {console.log(row._rawData)} */}\n      </div>\n    ));\n  }\n\n  const getQuatsionByIndex = () => {\n    let text = \"\";\n    bikoretKind.forEach((subject) => {\n      subject.list.forEach((quatsion) => {\n        if (quatsion.index === displayQuatsion) {\n          text = quatsion.quatsion;\n          console.log(text + \"/\");\n        }\n      });\n    });\n    return text;\n  };\n\n  let input = <></>;\n  let addInput = () => {\n    console.log(\"e\");\n    return <input />;\n  };\n\n  var displayTab;\n\n  return (\n    <div>\n      {rows !== false && (\n        <div style={stack}>\n          <ArrowRightCircle\n            onClick={() => props.setIsSheet(false)}\n            // color=\"rgb(255, 255, 255)\"\n          />\n          <div style={header}>\n            <h2>{sheetTitle}</h2>\n            <div style={headerInner}>\n              <p>\n                {rows[0]._rawData[2]}\n                {rows[0]._rawData[2]}-{rows[1]._rawData[2]}-\n                {rows[3]._rawData[2]}\n              </p>\n            </div>\n          </div>\n          <Tabs tab={tab} setTab={setTab} />\n          {tab}\n          {tab === \"watch\" ? (\n            (displayTab = <Table bikoretKind={bikoretKind} rows={rows} />)\n          ) : (\n            <></>\n          )}\n          {tab === \"percent\" ? (\n            (displayTab = <EditRate bikoretKind={bikoretKind} rows={rows} />)\n          ) : (\n            <></>\n          )}\n          {tab === \"editOne\" ? (\n            (displayTab = <EditOne bikoretKind={bikoretKind} rows={rows} />)\n          ) : (\n            <></>\n          )}\n\n          {/* {tab === \"editOne\" ? (displayTab = <Table rows={rows} />) : <></>} */}\n          {tab === \"download\" ? (\n            (displayTab = <Download sheet={sheetId} />)\n          ) : (\n            <></>\n          )}\n        </div>\n      )}\n\n      {rows === false && <p>משיג מידע</p>}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}